{% extends "scoreboard/base.html" %}

{% block content %}

<div class="flex justify-between items-start mb-5">
    <h1 class="text-4xl">leagues</h1>
    <a href="{% url 'new-league-page' %}" class="block py-4 px-6 bg-red-500 rounded-full text-white cursor-pointer
        text-3xl">+</a>
</div>

<div>

    {% for league in all_leagues %}
        <div class="mb-5 rounded bg-blue-100 p-3">

            <h2 class="text-3xl mb-3 font-bold">{{ league.name }}</h2>
            <p class="px-2 py-5 border border-slate-400 rounded bg-slate-100 border-dashed">
                {% if league.description == '' %}
                    <span class="text-slate-700">[no description]</span>
                {% else %}
                    {{ league.description }}
                {% endif %}
            </p>
            
            <div class="flex mt-5">
                {% if league == active_league %}
                    <div class="select-none px-4 py-3 rounded bg-green-500 text-white my-3 mr-2">
                        active
                    </div>
                {% else %}
                    <form action="{% url 'activate-league' %}" method="post">
                        {% csrf_token %}
                        <input type="hidden" name="activate-league-id" value="{{ league.pk }}">
                        <input type="submit" value="activate" class="px-4 py-3 rounded bg-blue-700 text-white my-3 mr-2
                            cursor-pointer">
                    </form>
                {% endif %}

                <a href="/" class="block px-4 py-3 rounded bg-blue-700 text-white my-3 mr-2">request to join</a>
                {% if league.owner == active_user.player %}
                    <a href="/" class="block px-4 py-3 rounded bg-blue-700 text-white my-3 mr-2">manage</a>
                {% endif %}
            </div>
        </div>
    {% endfor %}
</div>

{% endblock %}  